---
# å¿«é€Ÿæµ‹è¯• Playbook
# è¿è¡Œå‘½ä»¤: ansible-playbook test.yml

- name: "å¿«é€Ÿç³»ç»Ÿæµ‹è¯•"
  hosts: all
  gather_facts: yes
  
  tasks:
    - name: "æµ‹è¯•è¿æ¥"
      ping:
      
    - name: "è·å–ç³»ç»Ÿä¿¡æ¯"
      debug:
        msg: |
          ğŸ–¥ï¸  ä¸»æœºå: {{ inventory_hostname }}
          ğŸŒ IPåœ°å€: {{ ansible_default_ipv4.address }}
          ğŸ“¦ ç³»ç»Ÿ: {{ ansible_distribution }} {{ ansible_distribution_version }}
          ğŸ’¾ å†…å­˜: {{ (ansible_memtotal_mb/1024)|round(1) }}GB
          ğŸ’¿ ç£ç›˜: {{ ansible_mounts[0].size_total|filesizeformat }}
          â° æ—¶é—´: {{ ansible_date_time.iso8601 }}
          
    - name: "æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ"
      shell: df -h /
      register: disk_usage
      
    - name: "æ˜¾ç¤ºç£ç›˜ä½¿ç”¨"
      debug:
        var: disk_usage.stdout_lines 